{% extends "base.html" %}

{% block content %}
<div class="d-flex flex-column min-vh-100">
  <div class="container flex-grow-1 mt-4">
  <div class="card shadow">
    <div class="card-header">
      <h2 class="text-center">Edit Income</h2>
    </div>
    <div class="card-body">
      <form method="post" class="needs-validation" novalidate>
        {% csrf_token %}

        {% for field in form %}
          <div class="form-group mb-3">
            <!-- Add an asterisk for required fields -->
            <label for="{{ field.id_for_label }}" class="{% if field.field.required %}required{% endif %}">
              {{ field.label }}
              {% if field.field.required %}<span class="text-danger">*</span>{% endif %}
            </label>

            {{ field }}

            <!-- Display errors inline -->
            {% if field.errors %}
              <div class="invalid-feedback d-block">
                {{ field.errors|join:', ' }}
              </div>
            {% endif %}
          </div>
        {% endfor %}

        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-primary me-2">Save Changes</button>
            <a href="{% url 'delete_income' income.slug %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this income?')">Delete</a>
        </div>
      </form>
    </div>
  </div>
    </div>
  </div>


<!-- Custom Styles -->
<style>
  /* Highlight required fields */
  .form-group .required {
    font-weight: bold;
  }

  .form-group input:required {
    border: 2px solid #dc3545;
    box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
  }

  .form-group textarea:required {
    border: 2px solid #dc3545;
    box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
  }

  .form-group select:required {
    border: 2px solid #dc3545;
    box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
  }
</style>
{% endblock %}